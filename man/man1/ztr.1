.TH "ZTR" 1 "October 30 2023" "ztr 2.0.0" "User Commands"
.SH NAME
ztr \- zsh test runner

.SH SYNOPSIS

\fBztr clear-queue\fR

\fBztr clear-summary\fR

\fBztr queue\fR [([((\fI\-\-quiet | \-q\fR) | [\fI\-\-quiet\-fail\fR] [\fI\-\-quiet\-pass\fR])] [\fI\-\-emulate\fR <\fIshell\fR>] [\fI\-\-quiet\-emulate\fR] | \fI\-\-skip\fR [(\fI\-\-quiet | \-q\fR)]) <\fIarg\fR> [<\fIname\fR> [<\fInotes\fR>]]]\fR

\fBztr run-queue\fR [(\fI\-\-quiet | \-q\fR)] [<\fIname\fR>]

\fBztr skip\fR [(\fI\-\-quiet | \-q\fR)] <\fIarg\fR> [<\fIname\fR> [<\fInotes\fR>]]\fR

\fBztr summary\fR

\fBztr test\fR [(\fI\-\-quiet | \-q\fR)] <\fIarg\fR> [\fI\-\-emulate\fR <\fIshell\fR>] [\fI\-\-quiet\-emulate\fR] [<\fIname\fR> [<\fInotes\fR>]]\fR

\fBztr\fR (\fBhelp | \-\-help\fR | \fB\-h\fR)

\fBztr\fR (\fBversion | \-\-version\fR | \fB\-v\fR)

.SH DESCRIPTION

\fBztr\fR runs zsh tests, and logs individual and overall results in a human-readable format.

.SH Commands

.IP \(bu
\fBclear-queue\fR

Clear the queue.

.IP \(bu
\fBclear-summary\fR

Clear the summary.

.IP \(bu
\fBqueue\fR [([((\fI\-\-quiet | \-q\fR) | [\fI\-\-quiet\-fail\fR] [\fI\-\-quiet\-pass\fR])] [\fI\-\-emulate\fR <\fIshell\fR>] [\fI\-\-quiet\-emulate\fR] | \fI\-\-skip\fR [(\fI\-\-quiet | \-q\fR)]) <\fIarg\fR> [<\fIname\fR> [<\fInotes\fR>]]]\fR

Without arguments: print the queued tests.

With arguments: as `ztr test` but the test is queued rather than run.

\fI\-\-skip\fR queues up a \fBskip\fR command rather than a \fBtest\fR command.

.IP \(bu
\fBrun-queue\fR [(\fI\-\-quiet | \-q\fR)] [<\fIname\fR>]

Run all queued tests, and then clear the queue.

\fI\-\-quiet\fR runs all tests with the \fI\-\-quiet\fR flag.

<\fIname\fR> print a name above the batch results.

If \fIZTR_BOOTSTRAP_FN\fR is defined, it is run before the first queued test.

If \fIZTR_CLEAN_FN\fR is defined, it is run after the last queued test.

.IP \(bu
\fBskip\fR [(\fI\-\-quiet | \-q\fR)] <\fIarg\fR> [<\fIname\fR> [<\fInotes\fR>]]\fR

Skip <arg>.

See \fBtest\fR for details about \fI\-\-quiet\fR, <\fIname\fR>, and <\fInotes\fR>.

.IP \(bu
\fBsummary\fR

Pretty-print summary of results.

.IP \(bu
\fBtest\fR [(\fI\-\-quiet | \-q\fR)] <\fIarg\fR> [\fI\-\-emulate\fR <\fIshell\fR>] [\fI\-\-quiet\-emulate\fR] [<\fIname\fR> [<\fInotes\fR>]]\fR

Test <\fIarg\fR>. Pretty-print result and notes unless "quiet".

If your arg will error when passed to `eval`, quote it. If your arg has spaces, quote it.

\fI\-\-emulate\fR <\fIshell\fR> changes zsh\'s emulation mode. By default, the specified shell will be called out in the command output,

\fI\-\-quiet\-emulate\fR keeps the \fI\-\-emulate\fR <\fIshell\fR>'s <\fIshell\fR> out of the command output.

Optionally pass a <\fIname\fR> as a second parameter.

Optionally pass <\fInotes\fR> as a third parameter (requires that you also pass a <\fIname\fR> as a second parameter). For example, noting dependencies can help with troubleshooting. In the output notes are indented.

If \fIZTR_SETUP_FN\fR is defined, \fIZTR_SETUP_FN $ZTR_SETUP_ARGS\fR runs before <\fIarg\fR> is evaluated.

If \fIZTR_TEARDOWN_FN\fR is defined, \fIZTR_TEARDOWN_FN $ZTR_TEARDOWN_ARGS\fR runs before <\fIarg\fR> is evaluated.

.IP \(bu
\fBhelp\fR or \fB\-\-help\fR or \fB\-h\fR

Show the manpage.

.IP \(bu
\fBversion\fR or \fB\-\-version\fR or \fB\-v\fR

Print the command name and current version.

.\" .SH EXAMPLES

.SH LICENSE

zsh-test-runner by Henry Bley-Vroman is licensed under a license which is the unmodified text of CC BY-NC-SA 4.0 and the unmodified text of a Hippocratic License 3. It is not affiliated with Creative Commons or the Organization for Ethical Source. See the LICENSE file for details. Persons interested in using or
adapting this work for commercial purposes should contact the author.

.SH HOMEPAGE

Documentation: https://zsh-test-runner.olets.dev

Repo: https://github.com/olets/zsh-test-runner

.SH AUTHORS

Henry Bley\-Vroman <olets@olets.dev>
